class Place < ActiveRecord::Base
  MRT =[["捷運橋頭火車站","高雄縣 橋頭鄉 站前街12之1號",17,7,22.760451,120.310934],
    ["捷運橋頭糖廠站","高雄縣 橋頭鄉 興糖路19號",17,7,22.7534584,120.3144956],
    ["捷運青埔站（高科大）","高雄縣 橋頭鄉 經武路20號",17,7,22.7439651,120.3175964],
    ["捷運都會公園站","高雄市 楠梓區 惠豐里009鄰高楠公路1835號",16,8,22.728834,120.321165],
    ["捷運後勁站（海科大）","高雄市 楠梓區 金田里18鄰加昌路178號",16,8,22.722375,120.31638],
    ["捷運楠梓加工區站","高雄市 楠梓區 加昌路598號",16,8,22.718836,120.307578],
    ["捷運油糖國小站","高雄市 楠梓區 宏南里1鄰左楠路6號",16,8,22.718681,120.307166],
    ["捷運世運站","高雄市 楠梓區 宏南里1鄰左楠路1號",16,8,22.701626,120.302553],
    ["捷運左營站","高雄市 左營區 高鐵路107號B1",16,10,22.6879339668384,120.309230089188],
    ["捷運生態園區站","高雄市 左營區 博愛三路435號B1",16,10,22.6759167,120.3064423],
    ["捷運巨蛋站","高雄市 左營區 博愛二路485號B1",16,10,22.666296,120.303345],
    ["捷運凹子底站","高雄市 鼓山區 博愛二路21號B1",16,4,22.6571636,120.3034515],
    ["捷運後驛站","高雄市 三民區 博愛一路220號B1",16,7,22.648317,120.303351],
    ["捷運高雄車站","高雄市 三民區 建國二路320號B1",16,7,22.639672,120.302688],
    ["捷運美麗島站","高雄市 新興區 中山一路115號B1",16,0,22.6315602,120.3021058],
    ["捷運中央公園站","高雄市 前金區 中山一路11號B1",16,1,22.624898,120.300933],
    ["捷運三多商圈站","高雄市 苓雅區 中山二路268號B1",16,2,22.6130447,120.3051376],
    ["捷運獅甲站（勞工公園）","高雄市 前鎮區 中山三路150號B1",16,6,22.605746,120.308179],
    ["捷運凱旋站","高雄市 前鎮區 中山三路1號B1",16,6,22.596115,120.315483],
    ["捷運前鎮高中站","高雄市 前鎮區 翠亨北路225號B1",16,6,22.588328,120.321759],
    ["捷運草衙站","高雄市 前鎮區 翠亨南路555號B1",16,6,22.5801334,120.3284683],
    ["捷運高雄國際機場站","高雄市 小港區 中山四路2-2號B1",16,9,22.5702056,120.3420192],
    ["捷運小港站","高雄市 小港區 沿海一路280號B1紅線",16,9,22.565176,120.353465],
    ["捷運西子灣站","高雄市 鼓山區 臨海二路17-1號B1",16,4,22.6220284,120.273407],
    ["捷運鹽埕埔站","高雄市 鹽埕區 大勇路96號B1",16,3,22.623477,120.283826],
    ["捷運市議會站","高雄市 前金區 中正四路192-1號B1",16,1,22.628955,120.29488],
    ["捷運美麗島站","高雄市 新興區 中山一路115號B1",16,0,22.6315602,120.3021058],
    ["捷運信義國小站","高雄市 新興區 中正三路32-1號B1",16,0,22.630745,120.311622],
    ["捷運文化中心站","高雄市 新興區 中正三路45號B1",16,0,22.630304,120.3176],
    ["捷運五塊厝站","高雄市 苓雅區 中正一路286號B1",16,2,22.629562,120.327701],
    ["捷運技擊館站","高雄市 苓雅區 中正一路99號B1",16,2,22.6269035,120.3348312],
    ["捷運衛武營站","高雄市 苓雅區 中正一路2號B1",16,2,22.6247559,120.3410721],
    ["捷運鳳山西站","高雄縣 鳳山市 自由路281號B1",17,12,22.625343,120.348331],
    ["捷運鳳山站","高雄縣 鳳山市 光遠路446號B1",17,12,22.625986,120.356254],
    ["捷運大東站","高雄縣 鳳山市 光遠路226號B1",17,12,22.625281,120.363421],
    ["捷運鳳山國中站","高雄縣 鳳山市 中山東路瑞竹里225號B1",17,12,22.624907,120.372482],
    ["捷運大寮站","高雄縣 大寮鄉 萬丹路129-1號",17,13,22.6206196,120.3918263],
    ["捷運淡水站","台北縣 淡水鎮 中正路1號",2,26,25.167585,121.446281],
    ["捷運紅樹林站","台北縣 淡水鎮 中正東路二段68號",2,26,25.154693,121.458791],
    ["捷運竹圍站","台北縣 淡水鎮 民權路50號",2,26,25.137181,121.459459],
    ["捷運關渡站","台北市 北投區 大度路三段296巷51號",1,8,25.12571,121.467188],
    ["捷運忠義站","台北市 北投區 中央北路四段301號",1,8,25.13099,121.473392],
    ["捷運復興崗站","台北市 北投區 中央北路三段53巷10號",1,8,25.137532,121.485424],
    ["捷運新北投站","台北市 北投區 大業路700號",1,8,25.136947,121.502534],
    ["捷運北投站","台北市 北投區 光明路1號",1,8,25.131841,121.498633],
    ["捷運奇岩站","台北市 北投區 三合街二段487號",1,8,25.125491,121.501132],
    ["捷運唭哩岸站","台北市 北投區 東華街二段301號",1,8,25.120872,121.506252],
    ["捷運石牌站","台北市 北投區 石牌路一段200號",1,8,25.114523,121.515559],
    ["捷運明德站","台北市 北投區 明德路95號",1,8,25.109721,121.518848],
    ["捷運芝山站","台北市 士林區 福國路70號",1,7,25.10306,121.522514],
    ["捷運士林站","台北市 士林區 福德路1號",1,7,25.093535,121.52623],
    ["捷運劍潭站","台北市 士林區 中山北路五段65號",1,7,25.084328,121.52501],
    ["捷運圓山站","台北市 大同區 酒泉街9之1號",1,1,25.071353,121.520118],
    ["捷運民權西路站","台北市 中山區 民權西路72號",1,2,25.062202,121.519625],
    ["捷運雙連站","台北市 大同區 民生西路47號",1,1,25.057775,121.520667],
    ["捷運中山站","台北市 中山區 南京西路16號",1,2,25.052629,121.520374],
    ["捷運台北車站","台北市 中正區 忠孝西路1段49號",1,0,25.046281,121.517501],
    ["捷運台大醫院站","台北市 中正區 公園路52號B1",1,0,25.042201,121.51633],
    ["捷運中正紀念堂站","台北市 中正區 羅斯福路一段8-1號B1",1,0,25.0336293,121.5176412],
    ["捷運小南門站","台北市 中正區 愛國西路22號B1",1,0,25.035577,121.510775],
    ["捷運古亭站","台北市 中正區 羅斯福路二段164-1號",1,0,25.027046,121.522378],
    ["捷運台電大樓站","台北市 中正區 羅斯福路三段126之5號B1",1,0,25.020497,121.528334],
    ["捷運公館站","台北市 中正區 羅斯福路四段74之1號B1",1,0,25.014775,121.534296],
    ["捷運萬隆站","台北市 文山區 羅斯福路五段214號",1,11,25.001898,121.539027],
    ["捷運景美站","台北市 文山區 羅斯福路六段216號",1,11,24.992556,121.540644],
    ["捷運大坪林站","台北縣 新店市 北新路三段190號",2,10,24.982878,121.541399],
    ["捷運七張站","台北縣 新店市 北新路二段150號",2,10,24.975011,121.54322],
    ["捷運小碧潭站","台北縣 新店市 中央路151號4樓",2,10,24.973182,121.529992],
    ["捷運新店市公所站","台北縣 新店市 北新路一段295號",2,10,24.967794,121.541469],
    ["捷運新店站","台北縣 新店市 北宜路1段2號",2,10,24.957872,121.537557],
    ["捷運蘆洲站","台北縣 蘆洲市 三民路386號B1",2,23,25.0906601,121.4664465],
    ["捷運三民高中站","台北縣 蘆洲市 三民路105號B1",2,23,25.0855823,121.4730712],
    ["捷運徐匯中學站","台北縣 蘆洲市 中山一路3號B1",2,23,25.08035,121.479925],
    ["捷運三和國中站","台北縣 三重市 三和路4段107號B1",2,19,25.060808,121.4856066],
    ["捷運三重國小站","台北縣 三重市 三和路3段5號B1",2,19,25.069633,121.497657],
    ["捷運大橋頭站","台北市 大同區 民權西路223號B1",1,1,23.999971,120.557739],
    ["捷運民權西路站","台北市 中山區 民權西路72號",1,2,25.062202,121.519625],
    ["捷運中山國小站","台北市 中山區 民權東路1段71號B1",1,2,25.06275246,121.52653455],
    ["捷運行天宮站","台北市 中山區 松江路316號B1",1,2,25.0605515,121.5330842],
    ["捷運松江南京站","台北市 中山區 松江路126號B1",1,2,25.053356,121.533218],
    ["捷運忠孝新生站","台北市 中正區 新生南路1段67號",1,0,25.042356,121.532905],
    ["捷運頂溪站","台北縣 永和市 永和路二段168號B1",2,13,25.013512,121.515438],
    ["捷運永安市場站","台北縣 中和市 中和路388號",2,14,25.003612,121.513465],
    ["捷運景安站","台北縣 中和市 景平路486號",2,14,24.993899,121.505097],
    ["捷運南勢角站","台北縣 中和市 捷運路6號",2,14,24.989733,121.509392],
    ["捷運永寧站","台北縣 土城市 中央路三段105號B1",2,15,24.9672012,121.4364243],
    ["捷運土城站","台北縣 土城市 金城路一段105號B1",2,15,24.973154,121.444343],
    ["捷運海山站","台北縣 土城市 樂利街16號B2",2,15,24.985158,121.448638],
    ["捷運亞東醫院站","台北縣 板橋市 南雅南路二段17號B1",2,2,24.998438,121.452553],
    ["捷運府中站","台北縣 板橋市 縣民大道一段193號B1",2,2,25.008555,121.459183],
    ["捷運板橋站","台北縣 板橋市 前站路5號B1",2,2,25.013883,121.462508],
    ["捷運新埔站","台北縣 板橋市 民生路三段2號B1",2,2,25.023403,121.468194],
    ["捷運江子翠站","台北縣 板橋市 文化路二段296號B1",2,2,25.030471,121.472814],
    ["捷運龍山寺站","台北市 萬華區 西園路一段153號",1,5,25.035285,121.499836],
    ["捷運西門站","台北市 中正區 寶慶路32之一號B1",1,0,25.0426087,121.5083619],
    ["捷運台北車站","台北市 中正區 忠孝西路一段49號",1,0,25.046281,121.517501],
    ["捷運善導寺站","台北市 中正區 忠孝東路一段58號B1",1,0,25.044758,121.523675],
    ["捷運忠孝新生站","台北市 中正區 新生南路一段67號",1,0,25.042356,121.532905],
    ["捷運忠孝復興站","台北市 大安區 忠孝東路四段47號",1,4,25.041604,121.543773],
    ["捷運忠孝敦化站","台北市 大安區 忠孝東路四段182號",1,4,25.041489,121.550506],
    ["捷運國父紀念館站","台北市 信義區 忠孝東路四段400號",1,6,25.041333,121.557754],
    ["捷運市政府站","台北市 信義區 忠孝東路五段2號",1,6,25.041143,121.565973],
    ["捷運永春站","台北市 信義區 忠孝東路五段455號",1,6,25.04087,121.575598],
    ["捷運後山埤站","台北市 南港區 忠孝東路六段2號",1,10,25.044862,121.582379],
    ["捷運昆陽站","台北市 南港區 忠孝東路六段451號",1,10,25.050461,121.593268],
    ["捷運南港站","台北市 南港區 忠孝東路七段380號",1,10,25.05213,121.607237],
    ["捷運南港展覽館站","台北市 南港區 南港路一段32號",1,10,25.055258,121.61735],
    ["捷運南港軟體園區站","台北市 南港區 經貿二路183號",1,10,25.059942,121.615929],
    ["捷運東湖站","台北市 內湖區 康寧路三段235號",1,9,25.067181,121.611484],
    ["捷運葫洲站","台北市 內湖區 康寧路三段16號",1,9,25.072783,121.607009],
    ["捷運大湖公園站","台北市 內湖區 成功路五段11號",1,9,25.08375,121.602333],
    ["捷運內湖站","台北市 內湖區 成功路四段186號",1,9,25.083776,121.594559],
    ["捷運文德站","台北市 內湖區 文德路214號",1,9,25.078523,121.584742],
    ["捷運港墘站","台北市 內湖區 內湖路一段663號",1,9,25.080038,121.575102],
    ["捷運西湖站","台北市 內湖區 內湖路一段256號",1,9,25.082157,121.567144],
    ["捷運劍南路站","台北市 中山區 北安路798號",1,2,25.084794,121.555872],
    ["捷運大直站","台北市 中山區 北安路534之1號",1,2,25.0795,121.546915],
    ["捷運松山機場站","台北市 松山區 敦化北路388號",1,3,25.063113,121.551954],
    ["捷運中山國中站","台北市 松山區 復興北路376號",1,3,25.060831,121.544201],
    ["捷運南京東路站","台北市 松山區 南京東路三段253號",1,3,25.052302,121.544058],
    ["捷運忠孝復興站","台北市 大安區 忠孝東路四段47號",1,4,25.041604,121.543773],
    ["捷運大安站","台北市 大安區 信義路四段2號",1,4,25.032985,121.543582],
    ["捷運科技大樓站","台北市 大安區 復興南路二段235號",1,4,25.026123,121.543451],
    ["捷運六張犁站","台北市 大安區 和平東路三段168號",1,4,25.02379,121.553126],
    ["捷運麟光站","台北市 大安區 和平東路三段410號",1,4,25.018525,121.558787],
    ["捷運幸亥站","台北市 文山區 辛亥路四段128號",1,11,25.005483,121.557102],
    ["捷運萬芳醫院站","台北市 文山區 興隆路三段113號",1,11,24.999335,121.558095],
    ["捷運萬芳社區站","台北市 文山區 萬芳路60號",1,11,24.998571,121.568102],
    ["捷運木柵站","台北市 文山區 木柵路四段135號",1,11,24.998231,121.573147],
    ["捷運動物園站","台北市 文山區 新光路四段32號",1,11,24.998259,121.579476]
  ]
end
class AddMrtInPlaceAndAddImportantColumn < ActiveRecord::Migration
  def self.up
    add_column :places , :top , :integer , :limit => 1 , :default => 0 , :null => false
    Place.reset_column_information ##如果migrate從頭跑，這邊會出錯，因為class Place已經產生過了，所以需要reload!
    #刪除之前新增的
    puts "Delete old MRT count : #{Place.delete_all('(kind BETWEEN 12 AND 14 OR kind = 9) AND (name LIKE "%捷運%" OR name LIKE "%捷運" OR name LIKE "捷運%" OR name LIKE "%出入口%" OR name LIKE "%出入口" OR name LIKE "出入口%")')}"
    Place::MRT.each do |mrt|
      Place.new(:name => mrt[0] , :kind => 14 , :descript => mrt[1] , :main_area => mrt[2] , :sub_area => mrt[3] , :lat => mrt[4] , :lng => mrt[5] , :top => 128).save
    end
  end

  def self.down
    Place.delete_all("top = 128 AND kind = 14")
    remove_column :places , :top
  end
end
